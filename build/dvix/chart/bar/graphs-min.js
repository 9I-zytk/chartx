KISSY.add("dvix/chart/bar/graphs",function(a,b,c,d){var e=function(a){this.w=0,this.h=0,this._tip=null,this.pos={x:0,y:0},this._colors=["#6f8cb2","#c77029","#f15f60","#ecb44f","#ae833a","#896149"],this.bar={width:12},this.bar.width=12,this.sprite=null,this.yDataSectionLen=0,_.deepExtend(this,a),this.init()};return e.prototype={init:function(){this.sprite=new b.Display.Sprite({id:"graphsEl"})},setX:function(a){this.sprite.context.x=a},setY:function(a){this.sprite.context.y=a},getBarFillStyle:function(a,b,c){var d=null;return _.isArray(this.bar.fillStyle)&&(d=this.bar.fillStyle[b]),_.isFunction(this.bar.fillStyle)&&(d=this.bar.fillStyle(a,b,c)),d&&""!=d||(d=this._colors[b]),d},checkBarW:function(a){this.bar.width>=a&&(this.bar.width=a-1)},draw:function(a,d){if(_.deepExtend(this,d),0!=a.length){this.data=a;for(var e=a[0].length,f=0;e>f;f++){for(var g=new b.Display.Sprite({id:"barGroup"+f}),h=new b.Display.Sprite({id:"barGroupHover"+f}),i=0,j=a.length;j>i;i++){var k=a[i][f],l=this.getBarFillStyle(f,i,k.value),m=parseInt(Math.abs(k.y)),n=Math.min(this.bar.width/2,m),o=new c({id:"bar_"+i+"_"+f,context:{x:Math.round(k.x-this.bar.width/2),y:parseInt(k.y),width:parseInt(this.bar.width),height:m,fillStyle:l,radius:[n,n,0,0]}}),p=this.h/(this.yDataSectionLen-1),q=Math.ceil(m/p)*p,r=new c({id:"bar_"+i+"_"+f+"hover",context:{x:Math.round(k.x-this.bar.width/2),y:-q,width:parseInt(this.bar.width),height:q,fillStyle:"black",globalAlpha:0,cursor:"pointer"}});r.target=o,r.row=f,r.column=i,r.on("mouseover",function(){var a=this.target.context;a.x--,a.width+=2}),r.on("mousemove",function(){}),r.on("mouseout",function(){var a=this.target.context;a.x++,a.width-=2}),g.addChild(o),h.addChild(r)}this.sprite.addChild(g),this.sprite.addChild(h)}this.sprite.context.x=this.pos.x,this.sprite.context.y=this.pos.y}},grow:function(){function a(){c=requestAnimationFrame(a),d.update()}var b=this,c=null,e=function(){new d.Tween({h:0}).to({h:b.h},500).onUpdate(function(){b.sprite.context.scaleY=this.h/b.h}).onComplete(function(){cancelAnimationFrame(c)}).start();a()};e()}},e},{requires:["canvax/","canvax/shape/Rect","canvax/animation/Tween","dvix/components/tips/tip"]});