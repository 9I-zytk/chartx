KISSY.add("dvix/chart/radar/index",function(a,b,c,d,e,f,g,h){var i=b.Canvax;return b.extend({init:function(){this.options={r:0},this.dataFrame=null,this._xAxis=null,this._yAxis=null,this._back=null,this._graphs=null,this.stageBg=new i.Display.Sprite({id:"bg"}),this.stageGraph=new i.Display.Sprite({id:"graph"}),this.stage.addChild(this.stageBg),this.stage.addChild(this.stageGraph)},draw:function(a,b){_.deepExtend(this.options,b);var c=Math.min(this.width,this.height);this.options.r||(this.options.r=c/2),this.options.r>c/2&&(this.options.r=c/2),this.dataFrame=this._initData(a,this.options),this._initModule(this.options,this.dataFrame),this._startDraw(),this._drawEnd();var d=this;this.stage.on("mousemove",function(a){var b=d._getPointBack(a),c=180*Math.atan2(b.y,b.x)/Math.PI,e=360/d._xAxis.dataSection.length;c=(360+c+90+e/2)%360;var f=parseInt(c/e);d._graphs.angHover(f)}),this.stage.on("mouseout",function(a){var b=d._back.sprite.getChildById("isogon_"+(d._yAxis.dataSection.length-1)),c=d._getPointBack(a);h.isInside(b,c)||d._graphs.angOut()})},_getPointBack:function(a){var b=this._back.sprite.globalToLocal(a.target.localToGlobal(a.point,this.sprite));return b.x-=this.options.r,b.y-=this.options.r,b},clear:function(){this.stageBg.removeAllChildren(),this.stageGraph.removeAllChildren()},reset:function(a,b){this.clear(),this.width=parseInt(this.element.width()),this.height=parseInt(this.element.height()),this.draw(a,b)},_initModule:function(a,b){this._xAxis=new d(a.xAxis,b.xAxis),this._yAxis=new e(a.yAxis,b.yAxis),this._back=new f(a.back),this._graphs=new g(a.graphs)},_startDraw:function(){var a=(this.options.r,{r:this.options.r,yDataSection:this._yAxis.dataSection,xDataSection:this._xAxis.dataSection});this._back.draw(a);var b=this._back.sprite.context,c=(this.width-b.width)/2,d=(this.height-b.height)/2;this._back.setPosition(c,d),this._graphs.draw(this._yAxis.dataOrg,a),this._graphs.setPosition(c,d)},_drawEnd:function(){this.stageBg.addChild(this._back.sprite),this.stageGraph.addChild(this._graphs.sprite)}})},{requires:["dvix/chart/","dvix/utils/tools","./xaxis","dvix/components/yaxis/yAxis","./back","./graphs","canvax/geom/HitTestPoint","dvix/utils/deep-extend"]});