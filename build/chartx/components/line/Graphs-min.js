define("chartx/components/line/Graphs",["canvax/index","canvax/shape/Rect","chartx/utils/tools","chartx/components/line/Group"],function(a,b,c,d){var e=function(a,b){this.w=0,this.h=0,this.y=0,this.opt=a,this.root=b,this.ctx=b.stage.context2D,this.data=[],this.disX=0,this.groups=[],this.iGroup=0,this.iNode=-1,this.sprite=null,this.induce=null,this.init(a)};return e.prototype={init:function(b){this.opt=b,this.sprite=new a.Display.Sprite},setX:function(a){this.sprite.context.x=a},setY:function(a){this.sprite.context.y=a},getX:function(){return this.sprite.context.x},getY:function(){return this.sprite.context.y},draw:function(a){_.deepExtend(this,a),this._widget(a)},grow:function(){_.each(this.groups,function(a,b){a._grow()})},add:function(a,b){var c=this;_.deepExtend(this,a);var e=new d(b,c.opt,c.ctx);e.draw({data:b>c.data.length-1?c.data[c.data.length-1]:c.data[b]}),c.sprite.addChildAt(e.sprite,b),c.groups.splice(b,0,e),_.each(this.groups,function(a,b){a._groupInd=b,a.update({data:c.data[b]})})},remove:function(a){var b=this.groups.splice(a,1)[0];b.destroy()},update:function(a){_.deepExtend(this,a);var b=this;_.each(this.groups,function(a,c){a.update({data:b.data[c]})})},_widget:function(a){for(var c=this,e=0,f=c.data.length;f>e;e++){var g=new d(e,c.opt,c.ctx);g.draw({data:c.data[e]}),c.sprite.addChild(g.sprite),c.groups.push(g)}c.induce=new b({id:"induce",context:{y:-c.h,width:c.w,height:c.h,fillStyle:"#000000",globalAlpha:0,cursor:"pointer"}}),c.sprite.addChild(c.induce),c.induce.on("panstart mouseover",function(a){a.tipsInfo=c._getInfoHandler(a),c._fireHandler(a)}),c.induce.on("panmove mousemove",function(a){a.tipsInfo=c._getInfoHandler(a),c._fireHandler(a)}),c.induce.on("panend mouseout",function(a){a.tipsInfo=c._getInfoHandler(a),c._fireHandler(a),c.iGroup=0,c.iNode=-1}),c.induce.on("tap click",function(a){a.tipsInfo=c._getInfoHandler(a),c._fireHandler(a)})},_getInfoHandler:function(a){var b=a.point.x,d=a.point.y-this.h;b=b>this.w?this.w:b;for(var e=0==this.disX?0:parseInt((b+this.disX/2)/this.disX),f=[],g=c.getDisMinATArr(d,_.pluck(f,"y")),h=0,i=this.groups.length;i>h;h++){var j=this.groups[h].getNodeInfoAt(e);j&&f.push(j)}this.iGroup=g,this.iNode=e;var k={iGroup:this.iGroup,iNode:this.iNode,nodesInfoList:_.clone(f)};return k},_fireHandler:function(a){var b=this,c={eventType:a.type,iGroup:a.tipsInfo.iGroup,iNode:a.tipsInfo.iNode};_.isFunction(b.root.event.on)&&b.root.event.on(c)}},e});