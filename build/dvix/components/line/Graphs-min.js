KISSY.add("dvix/components/line/Graphs",function(a,b,c,d,e){var f=b.Canvax,g=function(a){this.w=0,this.h=0,this.y=0,this.line={strokeStyle:{normals:["#f8ab5e","#E55C5C"],overs:[]},alpha:{normals:[.8,.7],overs:[]}},this.data=[],this.disX=0,this.groups=[],this.iGroup=0,this.iNode=-1,this._nodesInfoList=[],this._nodesYList=[],this.sprite=null,this.induce=null,this.init(a)};return g.prototype={init:function(a){var b=this;b._initConfig(a),b.sprite=new f.Display.Sprite},setX:function(a){this.sprite.context.x=a},setY:function(a){this.sprite.context.y=a},getX:function(){return this.sprite.context.x},getY:function(){return this.sprite.context.y},draw:function(a){var b=this;b._configData(a),b._widget()},_initConfig:function(a){var b=this;if(a){var c=a.line;if(c){var d=c.strokeStyle;d&&(b.line.strokeStyle.normals=d.normals||b.line.strokeStyle.normals,b.line.strokeStyle.overs=d.overs&&d.overs.length?d.overs:b.line.strokeStyle.normals);var e=c.alpha;e&&(b.line.alpha.normals=e.normals||b.line.alpha.normals)}}},_configData:function(a){var b=this,a=a||{};b.w=a.w||0,b.h=a.h||0,b.y=a.y||0,b.data=a.data||[],b.disX=a.disX||[]},_widget:function(){for(var a=this,b=0,c=a.data.length;c>b;b++){var g=new e({line:{strokeStyle:a.line.strokeStyle.normals[b]},fill:{strokeStyle:a.line.strokeStyle.normals[b],alpha:a.line.alpha.normals[b]}});g.draw({data:a.data[b]}),a.sprite.addChild(g.sprite),a.groups.push(g)}a.induce=new f.Shapes.Rect({context:{y:-a.h,width:a.w,height:a.h,fillStyle:"#000000",alpha:.1}}),a.sprite.addChild(a.induce),a.induce.on(d.HOLD,function(b){var c=a._getInfoHandler(b);c&&a.sprite.fire({type:d.HOLD,info:c,e:b})}),a.induce.on(d.DRAG,function(b){var c=a._getInfoHandler(b);c&&a.sprite.fire({type:d.DRAG,info:c,e:b})}),a.induce.on(d.RELEASE,function(b){var c={iGroup:a.iGroup,iNode:a.iNode};a.sprite.fire({type:d.RELEASE,info:c,e:b}),a.iGroup=0,a.iNode=-1})},_getInfoHandler:function(b){var d=this,e=b.point,f=Number(e.x),g=Number(e.y)-Number(d.h),h=f/(d.disX/2);h=h%2==0?h:h+1;var i=parseInt(h/2);if(!(i>=d.data[0].length)){if(i!=d.iNode){d._nodesInfoList=[],d._nodesYList=[];for(var j=0,k=d.groups.length;k>j;j++){var l=d.groups[j],m=l.getNodeInfoAt(i);d._nodesInfoList.push(m),d._nodesYList.push(m.y)}}var n=c.getDisMinATArr(g,d._nodesYList);if(n!=d.iGroup||i!=d.iNode){d.iGroup=n,d.iNode=i;var o=d.groups[n].getNodeInfoAt(i),m={iGroup:d.iGroup,iNode:d.iNode,nodeInfo:a.clone(o),nodesInfoList:a.clone(d._nodesInfoList)};return m}d.iNode=i}}},g},{requires:["dvix/","dvix/utils/tools","dvix/event/eventtype","dvix/components/line/Group"]});