<<<<<<< HEAD
<<<<<<< HEAD
KISSY.add("\\dvix\\chart\\pie\\index",function(a,b,c,d,e,f,g,h){var i=b.Canvax;return b.extend({init:function(){this.config={mode:1,event:{enabled:1}},this.stageBg=new i.Display.Sprite({id:"bg"}),this.core=new i.Display.Sprite({id:"core"}),this.stageTip=new i.Display.Stage({id:"stageTip"}),this.canvax.addChild(this.stageTip),this.stageTip.toFront(),this.stage.addChild(this.core)},draw:function(a,b){this.dataFrame=this._initData(a,b),this._initModule(b),this._startDraw(),this._drawEnd(),this._arguments=arguments},_initData:function(b){var c={};if(c.org=b,c.data=[],a.isArray(b))for(var d=0;d<b.length;d++){var e={};a.isArray(b[d])?(e.name=b[d][0],e.y=parseFloat(b[d][1]),e.sliced=!1,e.selected=!1):"object"==typeof b[d]&&(e.name=b[d].name,e.y=parseFloat(b[d].y),e.sliced=b[d].sliced||!1,e.selected=b[d].selected||!1),e.name&&c.data.push(e)}return c},clear:function(){this.stageBg.removeAllChildren(),this.core.removeAllChildren(),this.stageTip.removeAllChildren()},reset:function(a,b){this.clear(),this.width=parseInt(this.element.width()),this.height=parseInt(this.element.height()),this.draw(a,b)},_initModule:function(a){var b=this,c=b.width,d=b.height,e=2*Math.min(c,d)/3/2,g=c/2,i=d/2;a=a||{},a.pie={x:g,y:i,r:e,tipCallback:{position:function(a){b._tip&&(b._tip.sprite.context.visible=!0,b._tip.sprite.context.x=a.x+5,b._tip.sprite.context.y=a.y-5)},isshow:function(a){console.log(a),b._tip.sprite.context.visible=a},update:function(a){b._tip._reset(a)}}},this._pie=new f(a,this.dataFrame),this._tip=new h(a)},_startDraw:function(){this._pie.draw(),this._pie.grow(),this._tip.draw()},_drawEnd:function(){this.core.addChild(this._pie.sprite),this.stageTip.addChild(this._tip.sprite)}})},{requires:["dvix/chart/","dvix/utils/tools","dvix/utils/datasection","dvix/event/eventtype","dvix/components/pie/Pie","dvix/components/line/Graphs","dvix/components/tips/PieTip"]});
=======
KISSY.add("dvix/chart/pie/index",function(a,b,c,d,e,f,g,h){var i=b.Canvax;return b.extend({init:function(){this.config={mode:1,event:{enabled:1}},this.stageBg=new i.Display.Sprite({id:"bg"}),this.core=new i.Display.Sprite({id:"core"}),this.stageTip=new i.Display.Stage({id:"stageTip"}),this.canvax.addChild(this.stageTip),this.stageTip.toFront(),this.stage.addChild(this.core)},draw:function(a,b){this.dataFrame=this._initData(a,b),this._initModule(b),this._startDraw(),this._drawEnd(),this._arguments=arguments},_initData:function(b){var c={};if(c.org=b,c.data=[],a.isArray(b))for(var d=0;d<b.length;d++){var e={};a.isArray(b[d])?(e.name=b[d][0],e.y=parseFloat(b[d][1]),e.sliced=!1,e.selected=!1):"object"==typeof b[d]&&(e.name=b[d].name,e.y=parseFloat(b[d].y),e.sliced=b[d].sliced||!1,e.selected=b[d].selected||!1),e.name&&c.data.push(e)}return c},clear:function(){this.stageBg.removeAllChildren(),this.core.removeAllChildren(),this.stageTip.removeAllChildren()},reset:function(a,b){this.clear(),this.width=parseInt(this.element.width()),this.height=parseInt(this.element.height()),this.draw(a,b)},_initModule:function(a){var b=this,c=b.width,d=b.height,e=2*Math.min(c,d)/3/2,g=c/2,i=d/2;a=a||{},a.pie={x:g,y:i,r:e,tipCallback:{position:function(a){b._tip&&(b._tip.sprite.context.visible=!0,b._tip.sprite.context.x=a.x+5,b._tip.sprite.context.y=a.y-5)},isshow:function(a){console.log(a),b._tip.sprite.context.visible=a},update:function(a){b._tip._reset(a)}}},this._pie=new f(a,this.dataFrame),this._tip=new h(a)},_startDraw:function(){this._pie.draw(),this._pie.grow(),this._tip.draw()},_drawEnd:function(){this.core.addChild(this._pie.sprite),this.stageTip.addChild(this._tip.sprite)}})},{requires:["dvix/chart/","dvix/utils/tools","dvix/utils/datasection","dvix/event/eventtype","dvix/components/pie/Pie","dvix/components/line/Graphs","dvix/components/tips/PieTip"]});
>>>>>>> origin/add-pie-chart
=======
KISSY.add("dvix/chart/pie/index",function(a,b,c,d,e){var f=b.Canvax;return b.extend({init:function(){this.config={mode:1,event:{enabled:1}},this.stageBg=new f.Display.Sprite({id:"bg"}),this.core=new f.Display.Sprite({id:"core"}),this.stageTip=new f.Display.Stage({id:"stageTip"}),this.canvax.addChild(this.stageTip),this.stageTip.toFront(),this.stage.addChild(this.core)},draw:function(a,b){if(this.dataFrame=this._initData(a,b),this._initModule(b),this._startDraw(b),this._drawEnd(),this._eventMap.complete&&this._eventMap.complete.length>0)for(var c=0;c<this._eventMap.complete.length;c++)this._eventMap.complete[c].call(this);this._arguments=arguments},getList:function(){var a,b=this,c=[];if(b._pie){var d=b._pie.getList();if(d.length>0)for(var e=0;e<d.length;e++)a=d[e],c.push({name:a.sector.__data.name,index:a.sector.__dataIndex,color:a.color,r:a.r,percentage:a.sector.__data.percentage})}return c},show:function(a){this._pie&&this._pie.showHideSector(a)},slice:function(a){this._pie&&this._pie.slice(a)},_initData:function(b){var c={};if(c.org=b,c.data=[],a.isArray(b))for(var d=0;d<b.length;d++){var e={};a.isArray(b[d])?(e.name=b[d][0],e.y=parseFloat(b[d][1]),e.sliced=!1,e.selected=!1):"object"==typeof b[d]&&(e.name=b[d].name,e.y=parseFloat(b[d].y),e.sliced=b[d].sliced||!1,e.selected=b[d].selected||!1),e.name&&c.data.push(e)}return c},clear:function(){this.stageBg.removeAllChildren(),this.core.removeAllChildren(),this.stageTip.removeAllChildren()},reset:function(a,b){this.clear(),this.width=parseInt(this.element.width()),this.height=parseInt(this.element.height()),this.draw(a,b)},_initModule:function(a){var b=this,d=b.width,f=b.height,g=2*Math.min(d,f)/3/2,h=parseInt(a.innerRadius||0),i=2*g/3;h=h>=0?h:0,h=i>=h?h:i;var j=d/2,k=f/2;a=a||{},a.pie={x:j,y:k,r0:h,r:g,boundWidth:d,boundHeight:f},a.tip.enabled&&(b._tip=new e(a),a.tipCallback={position:function(a){b._tip&&(b._tip.sprite.context.visible=!0,b._tip.sprite.context.x=a.x+5,b._tip.sprite.context.y=a.y-5)},isshow:function(a){b._tip.sprite.context.visible=a},update:function(a){b._tip._reset(a)}}),b._pie=new c(a,this.dataFrame)},_startDraw:function(a){this._pie.draw(a)},_drawEnd:function(){this.core.addChild(this._pie.sprite),this._tip&&this.stageTip.addChild(this._tip.sprite)}})},{requires:["dvix/chart/","dvix/components/pie/Pie","dvix/components/line/Graphs","dvix/components/pie/PieTip"]});
>>>>>>> origin
