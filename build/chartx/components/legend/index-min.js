define("chartx/components/legend/index",["canvax/index","canvax/shape/Rect"],function(a,b){var c=function(a,b){this.data=a||[],this.w=0,this.h=0,this.tag={height:20},this.enabled=1,this.icon={width:6,height:6,lineWidth:1,fillStyle:"#999"},this.layoutType="vertical",this.sprite=null,this.init(b)};return c.prototype={init:function(b){b&&_.deepExtend(this,b),this.sprite=new a.Display.Sprite({id:"LegendSprite"}),this.draw()},pos:function(a){this.sprite.context.x=a.x,this.sprite.context.y=a.y},draw:function(a,b,c){this.enabled&&this._widget()},label:function(a){return a.field+"ï¼š"+a.value},_widget:function(){var c=this,d=0;_.each(this.data,function(e,f){var g=new a.Display.Sprite({context:{height:c.tag.height,y:c.tag.height*f}}),h=new b({context:{width:c.icon.width,height:c.icon.height,x:0,y:c.tag.height/2-c.icon.height/2,fillStyle:e.fillStyle}});g.addChild(h);var i=c.label(e),j=new a.Display.Text(i,{context:{x:c.icon.width+6,y:c.tag.height/2,textAlign:"left",textBaseline:"middle",fillStyle:e.fillStyle}});g.addChild(j),g.context.width=c.icon.width+6+j.getTextWidth(),d=Math.max(d,g.context.width),c.sprite.addChild(g)}),c.sprite.context.width=d,c.sprite.context.height=c.sprite.children.length*c.tag.height,c.w=d+10,c.h=c.sprite.children.length*c.tag.height}},c});