define("chartx/chart/bar_h/index",["chartx/chart/index","chartx/utils/tools","chartx/utils/datasection","chartx/components/xaxis/xAxis_h","chartx/components/yaxis/yAxis_h","chartx/components/back/Back","./graphs","chartx/utils/dataformat"],function(a,b,c,d,e,f,g,h){var i=a.Canvax;return a.extend({init:function(a,b,c){this._xAxis=null,this._yAxis=null,this._back=null,this._graphs=null,_.deepExtend(this,c),this.dataFrame=this._initData(b,this)},draw:function(){this.core=new i.Display.Sprite({id:"core"}),this.stageBg=new i.Display.Sprite({id:"bg"}),this.stage.addChild(this.stageBg),this.stage.addChild(this.core),this.rotate&&this._rotate(this.rotate),this._initModule(),this._startDraw(),this._drawEnd(),this._arguments=arguments},_initData:h,_initModule:function(){this._xAxis=new d(this.xAxis,this.dataFrame.xAxis),this._yAxis=new e(this.yAxis,this.dataFrame.yAxis),this._back=new f(this.back),this._graphs=new g(this.graphs,this.tips,this.canvax.getDomContainer(),this.dataFrame)},_startDraw:function(){var a=parseInt(this.height-this._xAxis.h);this._yAxis.draw({pos:{x:0,y:a},yMaxHeight:a});var b=this._yAxis.w;this._xAxis.draw({graphh:this.height,graphw:this.width,yAxisW:b}),this._xAxis.yAxisW!=b&&(this._yAxis.resetWidth(this._xAxis.yAxisW),b=this._xAxis.yAxisW),this._back.draw({w:this.width-b,h:a,xAxis:{data:[{}].concat(this._yAxis.data)},yAxis:{enabled:1,data:this._xAxis.layoutData},pos:{x:b,y:a}}),this._graphs.draw(this._trimGraphs(),{w:this._xAxis.xGraphsWidth,h:this._yAxis.yGraphsHeight,pos:{x:b,y:a},yDataSectionLen:this._xAxis.dataSection.length}),this._graphs.grow()},_trimGraphs:function(){var a=this._yAxis.data,b=this._xAxis.dataOrg,c=b.length,d=this._yAxis.yDis1,e=d/(c+1);this._graphs.checkBarW(e);for(var f=this._xAxis.dataSection[this._xAxis.dataSection.length-1],g=[],h=0,i=a.length;i>h;h++)for(var j=0;c>j;j++){!g[j]&&(g[j]=[]);var k=-b[j][h]/f*this._xAxis.xGraphsWidth,l=a[h].y-d/2+e*(j+1);g[j][h]={value:b[j][h],x:k,y:l}}return g},_drawEnd:function(){this.stageBg.addChild(this._back.sprite),this.core.addChild(this._xAxis.sprite),this.core.addChild(this._graphs.sprite),this.core.addChild(this._yAxis.sprite)}})});